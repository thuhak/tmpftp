# tmpftp

## 作用

开启一个临时的ftp，为登录jumpserver后无法使用ssh进行上传下载的用户提供另一个便捷的上传下载途径

## 安装

通过salt推送，自动安装在每台机器上

## 特性

- 每次生成动态密码
- 客户端断开自动关闭程序
- 24小时超时自动关闭程序

## 用法

通过jumpserver无法使用传统的scp进行上传。因此我们制作了一个建议的临时ftp来辅助上传。
使用步骤如下：

1. 在想要上传的目录运行tmpftp开启这个ftp服务。由于安全上的限制，无法使用root身份运行。
```
[thuhak.zhou@t-shhq-ipaclt-01 ~]$ tmpftp
[I 2017-08-31 17:03:03] starting temp FTP on 0.0.0.0:2121
[I 2017-08-31 17:03:03] username is thuhak.zhou, passwd is 424082，
```

2. 运行以后会显示出服务的端口，用户名和密码。（例子中的端口号为2121，用户为thuhak.zhou,密码是424082）

3. 使用通用的ftp客户端，填入服务器ip，端口，用户名和密码，即可连接上服务器进行上传和下载。

4. 使用完后关闭客户端服务自动停止。或者可以按ctrl-c 结束ftp服务。